# Context

## 충분한 배경 지식 제공하기

```javascript
Q. API 에러 핸들링을 추가해줘.

A. try {
    const result = await someApiCall();
    return result;
} catch (error) {
    console.error (error);
    throw new Error ('Something went wrong');
}

-> 기술적으로 틀린 답은 아니지만, 프로젝트에 적합한 코드는 X.
```

```
API 에러 핸들링을 추가해줘.
[프로젝트 콘텍스트]
- Next.js APP Router 사용
- TypeScript
- 전역 에러 핸들링 미들웨어가 있음 (lib/errorHandler.ts)
- 에러 로깅은 Sentery로 전송
- 에러 응답 형식: {success: false, error: {code: string, message: string}}
- HTTP 상태 코드 컨벤션:
    - 400: 입력 검증 실패
    - 401: 인증 필요
    - 403: 권한 없음
    - 404: 리소스 없음
    - 500: 서버 내부 오류

[기존 에러 클래스]
class APIError extends Error {
    constructor(
        public code: string,
        public statusCode: number,
        public message: string,
    ) {
        super(message);
    }
}
```

## 효과적인 콘텍스트 제공하기

콘텍스트를 주입하는 것이 특히 효과적인 상황이 있다.

- 기존 코드베이스의 패턴, 네이밍 컨벤션, 아키텍처를 알면 일관된 코드를 생성할 수 있다.
- 특정 라이브러리/프레임워크 사용 시 버전별로 API가 다르므로 버전 정보를 필수 기입한다.
- 비즈니스 도메인 특화 작업은 용어와 비즈니스 규칙 설명이 필요하다.
- 컨벤션 준수가 필요한 경우 코딩 스타일, 커밋 메시지 규칙 등을 알려주면 일관된 코드 생성이 가능하다.

```
사용자 프로필 수정 API를 만들어줘.
참고할 파일:
- @login.ts(인증 패턴)
- @validators.ts(입력 검증 패턴)
- @users.ts(Users 타입 정의)
위 파일들의 패턴을 따라 구현해줘.
```
